# 典型回答

> MySQL到底是一个什么系统其实是看使用场景的
> 
> 一般来说, MySQL都是有主备的, 就是只有主节点对外提供服务, 从节点只是做数据的备份. 那么, 这属于什么呢? 我认为既然从节点连服务都不提供, 那么他就相当于是一个备胎, 一般场景都和他没关系, 除了主节点挂掉让他顶替而已, 所以他的CAP应该属于AC, 可用性和一致性, 就一个一致性一定有保证, 只有一个节点提供服务, 那就没有什么分区容错性可言了.
> 
> 但是MySQL在使用的时候还有另一个做法, 就是主节点提供写服务, 从节点提供读服务, 这属于什么呢? 我们可以思考一下, 如果出现了网络延迟, 从节点没有即使更新, 那么是不是一致性其实没有一个很好的保证, 而且从节点更新是主动拉的, 所以也是没什么一致性保证, 但是他还是可以很好的处理请求的, 只是没有最新的数据, 所以我认为他就是AP的

CAP理论，是描述分布式系统的，即在一个分布式系统中，可用性、一致性和分区容错性不能同时满足。



[[✅什么是CAP理论，为什么不能同时满足？]]



但是，**我们日常使用的MySQL，虽然也是有多个节点的，但是大多数情况下都是主备的，即只有一个主节点对外提供服务，当主节点挂了之后，备节点顶上来。**



也就是说，同一个时刻，只有一个节点对外提供服务的，这就谈不上P了，没啥分区容错性可言。



而在可用性（A)及一致性(C)方面，因为只有一个节点对外提供服务，所以自然可用性和一致性都是可以保障的。（即使发生了主从延迟，也不影响主节点的一致性或者可用性）



因此，**我们可以认为，MySQL 是一个 AC 的数据库。即从节点的延迟不会影响一致性或可用性。**

****

但是，MySQL在使用的时候，还有一种做法，那就是**读写分离**，即在主库上操作写，在从读库上进行读，这时候主库和从库都是对外提供服务的。这时候的MySQL就从一个AC的系统，变成了一个AP的系统了。



因为在出现网络延迟的时候，MySQL的从节点一样可以正常响应请求，只不过返回的数据可能是旧数据，这就是典型的优先保证了可用性，而牺牲了一致性。



所以，总结一下就是，**<font style="background-color:#FBDE28;">MySQL在默认情况下，是一个AC的数据库系统，在读写分离的情况下，是一个AP的数据库系统。</font>**

