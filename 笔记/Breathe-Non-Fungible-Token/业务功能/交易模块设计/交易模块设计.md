交易模块，这是一个业务模块，他自己不会产生业务单据，但是他会编排其他的结果模块，比如订单，商品，库存，用户等模块，他的主要职责就是完成用户下单交易的过程。



他和订单，支付模块的区别：

+ 交易模块是对客的，而订单支付模块不直接对客，通过交易模块对客。
+ 也就意味着，交易模块中直接提供controller供用户访问，但是订单，支付不提供给用户访问的controller，只提供dubbo接口对外调用。
+ 这么做的好处就是订单和支付可以更加聚焦于自己的业务逻辑，至于前面的各种展示逻辑（比如PC端，手机端展示内容不同，支付方式可能不同），组装逻辑（有的订单需要支付，有的订单可能不需要，比如我们之后会做的空投玩法）他们都不需要进行关心。





交易模块中提供了几个核心的方法：如buy，pay以及cancel，分别是下单，支付和取消订单。



## 时序图
![[73f62373-935f-4f18-946a-78ca541d09cc.svg]]



交易模块自己没有做数据存储，他主要的职责还是编排各个原子模块完成交易相关的支付、下单等动作。如果后面我们做了延迟营销，那么交易模块也会去编排营销。

