在我们的项目中，我们会在 trade 模块中预生成订单号，然后把这个订单号传到 collection 和 order 模块中，当作订单号使用。

之所以这么做，是因为不管是 buy 还是 newBuy 接口，我们都需要给前端返回一个订单号，这样前端才能轮询这个订单号，判断是否可以进行支付。

而对于 buy 来说，因为创建订单是同步的，那么是可以在buy 的结果返回中拿到订单号的。但是对于 newBuy 来说，订单的创建是异步的，如果在订单创建时再生成订单号，那么 newBuy 接口就拿不到订单号，那么前端页面就会无法获取到订单号，无法查询具体的订单的状态。

于是为了解决这个问题，我们需要在 trade 模块中预生成订单号，这样不管是 buy 还是 newBuy，都可以提前拿到订单号。

但是，订单号的生成逻辑肯定是归属于订单模块的，在 trade 模块中想要生成订单号，难道要把 order 中的订单号生成逻辑重新写一遍吗？

这么做明显是不合理的，因为一方面一坨代码两个地方写很容易出错，而且后期万一有迭代修改，很不方便。订单号万一逻辑不一致，导致重复了这么办？

所以，为了解决这个问题，我们把订单号的生成逻辑，从 order 模块中独立出来，做了一个 order-client，即为订单模块的富客户端，把订单号的生成逻辑放到这个 client 里面。

这样，订单模块、交易模块，以及后续的任何需要生成订单号的模块都可以共用这个 client，生成一个订单号。

这么做的好处是逻辑统一了，后期只需要维护这个 order-client 即可，还有就是客户端以jar的形式被依赖到 trade 模块中，这样生成订单号的时候就避免了远程调用。