注册功能：主要讲一下，通过手机号注册，然后提及如何短信限流，为何短信限流，三方对接



注册的流程，发完验证码，然后判断这个用户存不存在，如果存在，就登录，如果不存在就注册，分配一个用户名称，检查一下有没有邀请码，有的话，就可以在这里给邀请的人添加100积分，就可以引申到redis的ZSET结构





登录的逻辑：登录之后，给他生成一个随机的token，返回给他，存到session里面，之后在登录的时候，携带这个token，并且我们还会进行一个权限的校验，权限的校验是在网关层面，利用sa-token，简单模仿rbac模式来进行的，实现了sa-token的StpInterface接口，然后实现其中的获取权限列表接口和获取角色列表接口，这个主要是从redis中去取，我们在登录成功以后，会把用户信息存到redis中来管理用户的登录的生命周期，通过redis中用户Info的State来获取用户的权限和角色。



