# 对象的访问定位

这种操作也就是说我们在堆空间中分配了对象了，我们在栈上如何定位到这个对象，常用的有两种方式，这两种方式的区别就是栈上地址是否是频繁修改的，这里的频繁修改是垃圾回收导致的，这也是一个比较频繁的操作。

## 通过句柄访问

通过句柄访问其实很简单，他会在堆空间中申请一个句柄池，然后将栈上的reference指针指向句柄池中的这个对象，这样子如果对象的地址改变，就不会影响到栈上指针的变动，而是通过修改句柄池中指向的地址就可以了。句柄池一般装的信息有该实例对象的具体信息和该实例对象的对象类型，他的优势就是栈上的reference所存的地址可以不用频繁的变动（这里我就有一个问题了，那这样句柄池中的地址不也要频繁的变动吗，这种方式到底好在哪里）
![[Pasted image 20250928144629.png]]

## 通过直接指针访问对象

这种方式是没有维护一个句柄池，而是让栈上的reference直接引用堆中的对象，他的优势就是只需要进行一次指针查找，不需要通过中间人--句柄池来做这件事情，这就会导致一个问题，对象由于GC等原因，他的地址会改变，会导致reference存的地址频繁改变。

![[Pasted image 20250928144651.png]]