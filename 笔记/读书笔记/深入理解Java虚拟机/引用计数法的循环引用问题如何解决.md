## 概述
引用计数法是通过统计每个对象被引用的次数来判断这个对象是否会被回收，如果两个或多个对象相互引用，虽然他们都已经不被使用，但是他们依旧有引用次数，所以不会被回收，但是他们应该被回收，这就可能会导致内存泄漏。
那这算一个bug吗，其实是不算的，要不然为什么c++等很多语言用的都是这种方法来表示对象是否存活呢？一个是这种方法效率高，另一个是这种问题有解决的方案。

## 方法
### 通过强弱引用机制来解决引用计数的循环引用问题
这个方法就例如c++中的智能指针了，接下来我用sp来代表strong pointer强引用，用wp来代表weak pointer弱引用。
#### 发生的原理
假设我们现在有两个对象A和B，然后A引用B，B引用A，这样就会导致循环引用然后不能释放，导致内存泄漏。

#### 解决方案
我们可以通过将其中一个引用变为弱引用。
比如A先引用B，此时B没有引用A，那么A就用sp引用B，然后B想引用A，这时候就用wp，当回收的时候，只需要检查B的sp，发现为null，就可以回收。B被回收以后，下波就可以回收A。